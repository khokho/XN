Index: src/main/java/ge/exen/Objects/Exam.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ge.exen.Objects;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\npublic class Exam {\r\n    private String fullName;\r\n    private String startDate;\r\n    private Integer durationInMinutes;\r\n    private List<String> statementLinks;\r\n    private Integer variants;\r\n    private long db_ID;\r\n\r\n\r\n    public Exam(String name, String startDate, int durationInMinutes, int variants, List<String> statementLinks) {\r\n        this.fullName = name;\r\n        this.startDate = startDate;\r\n        this.durationInMinutes = durationInMinutes;\r\n        this.statementLinks = statementLinks;\r\n        this.variants = variants;\r\n        makeConsistent();\r\n    }\r\n\r\n    private void makeConsistent() {\r\n        if (statementLinks == null) return;\r\n        while (statementLinks.size() > variants + 1) {\r\n            statementLinks.remove(statementLinks.size() - 1);\r\n        }\r\n\r\n        while (statementLinks.size() < variants) {\r\n            statementLinks.add(null);\r\n        }\r\n    }\r\n\r\n    public void setStatementLinks(List<String> statementLinks) {\r\n        this.statementLinks = statementLinks;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public String getStartDate() {\r\n        return startDate;\r\n    }\r\n\r\n    public Integer getDurationInMinutes() {\r\n        return durationInMinutes;\r\n    }\r\n\r\n    public List<String> getStatementLinks() {\r\n        return statementLinks;\r\n    }\r\n\r\n    public Integer getVariants() {\r\n        return variants;\r\n    }\r\n\r\n    public void setName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public void setStartDate(String startDate) {\r\n        this.startDate = startDate;\r\n    }\r\n\r\n    public void setDuration(Integer durationInMinutes) {\r\n        this.durationInMinutes = durationInMinutes;\r\n    }\r\n\r\n    public void setStatementLink(String newLink, int index) {\r\n        this.statementLinks.set(index, newLink);\r\n    }\r\n\r\n    public void setVariants(int newSize) {\r\n        variants = newSize;\r\n        makeConsistent();\r\n    }\r\n\r\n    public void setID(long ID) {\r\n        this.db_ID = ID;\r\n    }\r\n\r\n    public long getID() {\r\n        return db_ID;\r\n    }\r\n}\r\n
===================================================================
--- src/main/java/ge/exen/Objects/Exam.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/java/ge/exen/Models/Exam.java	(date 1591646862382)
@@ -1,4 +1,4 @@
-package ge.exen.Objects;
+package ge.exen.Models;
 
 import java.util.Date;
 import java.util.List;
Index: src/main/webapp/WEB-INF/dispatcher-servlet.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n       xmlns:context=\"http://www.springframework.org/schema/context\"\r\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\">\r\n\r\n    <context:component-scan base-package=\"ge.exen\"/>\r\n    <bean id=\"multipartResolver\"\r\n          class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\">\r\n    </bean>\r\n\r\n    <bean class=\"ge.exen.dao.ExamDao\"></bean>\r\n    <!-- <bean id=\"createDB\"\r\n           class=\"ge.exen.Init.InitializeDB\"></bean> -->\r\n\r\n    <bean id=\"db\" destroy-method=\"close\" class=\"org.apache.commons.dbcp.BasicDataSource\">\r\n        <property name=\"driverClassName\" value=\"com.mysql.cj.jdbc.Driver\"/>\r\n        <property name=\"url\" value=\"jdbc:mysql://localhost:3306/exen\"/>\r\n        <property name=\"username\" value=\"root\"/>\r\n        <property name=\"password\" value=\"pass1234\"/>\r\n        <property name=\"initialSize\" value=\"3\"/>\r\n    </bean>\r\n\r\n    <bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\r\n        <property name=\"prefix\" value=\"/WEB-INF/views/\"/>\r\n        <property name=\"suffix\" value=\".jsp\"/>\r\n    </bean>\r\n\r\n</beans>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/webapp/WEB-INF/dispatcher-servlet.xml	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/webapp/WEB-INF/dispatcher-servlet.xml	(date 1591647117736)
@@ -9,7 +9,7 @@
           class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
     </bean>
 
-    <bean class="ge.exen.dao.ExamDao"></bean>
+    <bean class="ge.exen.DAO.ExamDao"></bean>
     <!-- <bean id="createDB"
            class="ge.exen.Init.InitializeDB"></bean> -->
 
Index: src/main/java/ge/exen/dao/ExamMaterialDao.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ge.exen.dao;\r\n\r\nimport ge.exen.Objects.Exam;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\nimport java.util.List;\r\n\r\n@Component(\"exmatDao\")\r\npublic class ExamMaterialDao {\r\n    @Autowired\r\n    private DataSource db;\r\n    private String insertTemplate = \"INSERT into exam_materials (material_link, var, exam_id) VALUES (?, ?, ?)\";\r\n\r\n    public void create(Exam ex) throws SQLException {\r\n        List<String> paths = ex.getStatementLinks();\r\n        Connection conn = db.getConnection();\r\n        PreparedStatement stat = conn.prepareStatement(insertTemplate);\r\n        int variantNum = 0;\r\n        System.out.println(\"!!!\" + paths.size());\r\n        for (String path : paths) {\r\n            //skip first null element as enumeration starts from 1.\r\n            if (variantNum == 0) {\r\n                variantNum++;\r\n                continue;\r\n            }\r\n            stat.setString(1, path);\r\n            stat.setInt(2, variantNum);\r\n            stat.setInt(3, (int) ex.getID());\r\n\r\n            stat.executeUpdate();\r\n\r\n            variantNum++;\r\n\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ge/exen/dao/ExamMaterialDao.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/java/ge/exen/DAO/ExamMaterialDao.java	(date 1591647117749)
@@ -1,6 +1,6 @@
-package ge.exen.dao;
+package ge.exen.DAO;
 
-import ge.exen.Objects.Exam;
+import ge.exen.Models.Exam;
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Component;
 
Index: src/main/java/ge/exen/Init/InitializeDB.java
===================================================================
--- src/main/java/ge/exen/Init/InitializeDB.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/java/ge/exen/Init/InitializeDB.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
@@ -1,25 +0,0 @@
-package ge.exen.Init;
-
-import org.springframework.stereotype.Component;
-
-@Component
-public class InitializeDB {
-    private static String account = "root";
-    private static String password = "pass1234";
-    private static String server = "localhost";
-   /* private static Connection con;
-
-    @PostConstruct
-    public void init() throws SQLException, ClassNotFoundException, FileNotFoundException {
-        DriverManager.registerDriver(new com.mysql.jdbc.Driver());
-        Class.forName("com.mysql.cj.jdbc.Driver");
-
-        con = DriverManager.getConnection
-                ( "jdbc:mysql://" + server, account ,password);
-
-        ScriptRunner tableCreator = new ScriptRunner(con);
-        Reader reader = new BufferedReader(new FileReader("DataBase.sql"));
-
-        tableCreator.runScript(reader);
-    }*/
-}
Index: src/main/java/ge/exen/newExam.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ge.exen;\r\n\r\nimport ge.exen.Model.ExamFactory;\r\n\r\n\r\nimport ge.exen.Model.FileWorker;\r\nimport ge.exen.Objects.Exam;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.multipart.MultipartHttpServletRequest;\r\nimport org.springframework.web.multipart.commons.CommonsMultipartResolver;\r\n\r\n\r\nimport java.util.*;\r\n\r\n@Controller\r\npublic class newExam {\r\n\r\n    @Autowired\r\n    ExamFactory examFactory;\r\n\r\n    @Bean(name = \"multipartResolver\")\r\n    public CommonsMultipartResolver multipartResolver() {\r\n        CommonsMultipartResolver multipartResolver = new CommonsMultipartResolver();\r\n        multipartResolver.setMaxUploadSize(100000);\r\n        return multipartResolver;\r\n    }\r\n\r\n    @GetMapping(\"/newExam\")\r\n    public String getInfo() {\r\n        return \"newExam\";\r\n    }\r\n\r\n\r\n    @PostMapping(\"/newExam\")\r\n    public String retreviveForm(MultipartHttpServletRequest req,\r\n                                @RequestParam(name = \"variants\") String variantStr,\r\n                                @RequestParam(name = \"fullName\") String name,\r\n                                @RequestParam(name = \"startDate\") String startDt,\r\n                                @RequestParam(name = \"hours\") String durHours,\r\n                                @RequestParam(name = \"minutes\") String durMinutes) {\r\n        int variantCount = Integer.parseInt(variantStr);\r\n        List<MultipartFile> rawFiles = new ArrayList<>();\r\n        Map<String, MultipartFile> files = req.getFileMap();\r\n\r\n        for (int i = 0; i <= variantCount; i++) {\r\n            rawFiles.add(null);\r\n        }\r\n\r\n        for (Map.Entry<String, MultipartFile> ent : files.entrySet()) {\r\n            if (ent.getKey().contains(\"statement \")) {\r\n                System.out.println(\"!>\");\r\n                int idx = Integer.parseInt(ent.getKey().substring(10));\r\n                rawFiles.set(idx, ent.getValue());\r\n            }\r\n        }\r\n        long code = examFactory.process(name, startDt, durHours, durMinutes, variantStr, rawFiles);\r\n\r\n        if (code == ExamFactory.STATUS_ERR) System.out.println(\"ERROR\");\r\n        if (code == ExamFactory.STATUS_DB_ERR) System.out.println(\"DB ERROR\");\r\n        if (code == ExamFactory.STATUS_FILE_DB_ERR) System.out.println(\"File storing error\");\r\n        return \"/newExam\";\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ge/exen/newExam.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/java/ge/exen/newExam.java	(date 1591646500725)
@@ -1,10 +1,8 @@
 package ge.exen;
 
-import ge.exen.Model.ExamFactory;
+import ge.exen.Models.ExamFactory;
 
 
-import ge.exen.Model.FileWorker;
-import ge.exen.Objects.Exam;
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.context.annotation.Bean;
 import org.springframework.stereotype.Controller;
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"BranchesTreeState\">\r\n    <expand>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"LOCAL_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"GROUP_NODE:origin\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n    </expand>\r\n    <select />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"d9a13fc2-04a4-451f-879e-e26bd08d69ca\" name=\"Default Changelist\" comment=\"work-in-progress&#10;Exam კლასი და მუშა ფაილის ატვირთვის სერვლეტი\">\r\n      <change afterPath=\"$PROJECT_DIR$/.idea/dataSources.xml\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/.idea/sqldialects.xml\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/files/exam24/exam_materials/CV.docx\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/java/ge/exen/Init/InitializeDB.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/java/ge/exen/Model/ExamFactory.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/java/ge/exen/Model/FileWorker.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamDao.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamMaterialDao.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/DataBase.sql\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/DataBase.sql\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/pom.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/pom.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/Objects/Exam.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/ge/exen/Objects/Exam.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/ge/exen/newExam.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/ge/exen/newExam.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/dispatcher-servlet.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/dispatcher-servlet.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/views/newExam.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/views/newExam.jsp\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"spring-beans.schema\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"PREVIOUS_COMMIT_AUTHORS\">\r\n      <list>\r\n        <option value=\"Aleksandre Khokhiashvili &lt;alkhok18@freeuni.edu.ge&gt;\" />\r\n      </list>\r\n    </option>\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"master\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1codlztNgE1u2IYNWkOiavTGUSX\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n    <option name=\"showMembers\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"ASKED_ADD_EXTERNAL_FILES\" value=\"true\" />\r\n    <property name=\"DatabaseDriversLRU\" value=\"mysql\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"aspect.path.notification.shown\" value=\"true\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$/../oop-2020-hw-03/oop-2020-hw-03-db/src/MetropolisFrame.java\" />\r\n    <property name=\"project.structure.last.edited\" value=\"Modules\" />\r\n    <property name=\"project.structure.proportion\" value=\"0.0\" />\r\n    <property name=\"project.structure.side.proportion\" value=\"0.2\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"terminal\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveClassesOrPackagesDialog.RECENTS_KEY\">\r\n      <recent name=\"ge.exen\" />\r\n      <recent name=\"ge\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"$PROJECT_DIR$/src/main/webapp/WEB-INF/views\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"XN [tomcat7:run]\" type=\"MavenRunConfiguration\" factoryName=\"Maven\" nameIsGenerated=\"true\">\r\n      <MavenSettings>\r\n        <option name=\"myGeneralSettings\" />\r\n        <option name=\"myRunnerSettings\" />\r\n        <option name=\"myRunnerParameters\">\r\n          <MavenRunnerParameters>\r\n            <option name=\"profiles\">\r\n              <set />\r\n            </option>\r\n            <option name=\"goals\">\r\n              <list>\r\n                <option value=\"tomcat7:run\" />\r\n              </list>\r\n            </option>\r\n            <option name=\"pomFileName\" />\r\n            <option name=\"profilesMap\">\r\n              <map />\r\n            </option>\r\n            <option name=\"resolveToWorkspace\" value=\"false\" />\r\n            <option name=\"workingDirPath\" value=\"$PROJECT_DIR$\" />\r\n          </MavenRunnerParameters>\r\n        </option>\r\n      </MavenSettings>\r\n      <method v=\"2\" />\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SvnConfiguration\">\r\n    <configuration />\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"d9a13fc2-04a4-451f-879e-e26bd08d69ca\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1591199034154</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1591199034154</updated>\r\n      <workItem from=\"1591199037495\" duration=\"3311000\" />\r\n      <workItem from=\"1591370335508\" duration=\"5119000\" />\r\n      <workItem from=\"1591430671402\" duration=\"15172000\" />\r\n      <workItem from=\"1591534066893\" duration=\"3030000\" />\r\n      <workItem from=\"1591559371413\" duration=\"6950000\" />\r\n      <workItem from=\"1591616665661\" duration=\"16532000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Initialized the project&#10;web.xml starts dispatcher which is configured in dispatcher-servlet.xml&#10;which in itself uses index controller(annotation) to serve index.jsp view.&#10;also set up maven with tomcat as well\">\r\n      <created>1591204819453</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1591204819453</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"საწყისი newExam.jsp&#10;მუშაობს /newExam გვერდზე&#10;სერვლეტების გარეშე\">\r\n      <created>1591374073062</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1591374073062</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"ზედმეტი სერვლეტი მოვაშორე\">\r\n      <created>1591430871051</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1591430871051</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"work-in-progress&#10;Exam კლასი და მუშა ფაილის ატვირთვის სერვლეტი\">\r\n      <created>1591440300779</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1591440300779</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"5\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"2\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"Initialized the project&#10;web.xml starts dispatcher which is configured in dispatcher-servlet.xml&#10;which in itself uses index controller(annotation) to serve index.jsp view.\" />\r\n    <MESSAGE value=\"Initialized the project&#10;web.xml starts dispatcher which is configured in dispatcher-servlet.xml&#10;which in itself uses index controller(annotation) to serve index.jsp view.&#10;also set up maven with tomcat as well\" />\r\n    <MESSAGE value=\"საწყისი newExam.jsp&#10;მუშაობს /newExam გვერდზე&#10;სერვლეტების გარეშე\" />\r\n    <MESSAGE value=\"ზედმეტი სერვლეტი მოვაშორე\" />\r\n    <MESSAGE value=\"work-in-progress&#10;Exam კლასი და მუშა ფაილის ატვირთვის სერვლეტი\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"work-in-progress&#10;Exam კლასი და მუშა ფაილის ატვირთვის სერვლეტი\" />\r\n    <option name=\"REFORMAT_BEFORE_PROJECT_COMMIT\" value=\"true\" />\r\n  </component>\r\n  <component name=\"WindowStateProjectService\">\r\n    <state x=\"515\" y=\"219\" key=\"#Other_File_Types\" timestamp=\"1591361944459\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"515\" y=\"219\" key=\"#Other_File_Types/0.0.1366.728@0.0.1366.728\" timestamp=\"1591361944459\" />\r\n    <state x=\"73\" y=\"205\" key=\"#SQL_Dialects\" timestamp=\"1591445572996\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"73\" y=\"205\" key=\"#SQL_Dialects/0.0.1366.728@0.0.1366.728\" timestamp=\"1591445572996\" />\r\n    <state x=\"298\" y=\"45\" width=\"1088\" height=\"766\" key=\"#com.intellij.execution.impl.EditConfigurationsDialog\" timestamp=\"1591633334787\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"298\" y=\"45\" key=\"#com.intellij.execution.impl.EditConfigurationsDialog/0.0.1366.728@0.0.1366.728\" timestamp=\"1591633334787\" />\r\n    <state x=\"418\" y=\"169\" width=\"1088\" height=\"766\" key=\"#com.intellij.execution.impl.EditConfigurationsDialog/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591199632478\" />\r\n    <state x=\"488\" y=\"65\" key=\"#com.intellij.ide.util.MemberChooser\" timestamp=\"1591637463557\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"488\" y=\"65\" key=\"#com.intellij.ide.util.MemberChooser/0.0.1366.728@0.0.1366.728\" timestamp=\"1591637463557\" />\r\n    <state x=\"416\" y=\"53\" key=\"#com.intellij.ide.util.frameworkSupport.AddFrameworkSupportDialog\" timestamp=\"1591367793544\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"416\" y=\"53\" key=\"#com.intellij.ide.util.frameworkSupport.AddFrameworkSupportDialog/0.0.1366.728@0.0.1366.728\" timestamp=\"1591367793544\" />\r\n    <state x=\"445\" y=\"260\" width=\"668\" height=\"317\" key=\"#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes\" timestamp=\"1591430742990\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"445\" y=\"260\" key=\"#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes/0.0.1366.728@0.0.1366.728\" timestamp=\"1591430742990\" />\r\n    <state x=\"626\" y=\"401\" width=\"668\" height=\"317\" key=\"#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591200646856\" />\r\n    <state x=\"504\" y=\"224\" width=\"407\" height=\"191\" key=\"#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.packages\" timestamp=\"1591626364082\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"504\" y=\"224\" width=\"407\" height=\"191\" key=\"#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.packages/0.0.1366.728@0.0.1366.728\" timestamp=\"1591626364082\" />\r\n    <state x=\"626\" y=\"432\" key=\"#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.packages/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591200307109\" />\r\n    <state x=\"354\" y=\"24\" width=\"1201\" height=\"1054\" key=\"CommitChangelistDialog2\" timestamp=\"1591205011084\">\r\n      <screen x=\"0\" y=\"24\" width=\"1920\" height=\"1056\" />\r\n    </state>\r\n    <state x=\"354\" y=\"24\" width=\"1201\" height=\"1054\" key=\"CommitChangelistDialog2/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591205011084\" />\r\n    <state width=\"254\" height=\"195\" key=\"DatabaseViewActions_Filter\" timestamp=\"1591565255228\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state width=\"254\" height=\"195\" key=\"DatabaseViewActions_Filter/0.0.1366.728@0.0.1366.728\" timestamp=\"1591565255228\" />\r\n    <state x=\"463\" y=\"119\" key=\"FileChooserDialogImpl\" timestamp=\"1591535815310\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"463\" y=\"119\" key=\"FileChooserDialogImpl/0.0.1366.728@0.0.1366.728\" timestamp=\"1591535815310\" />\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.bottom\" timestamp=\"1591639441250\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.bottom/0.0.1366.728@0.0.1366.728\" timestamp=\"1591639441250\" />\r\n    <state width=\"1850\" height=\"249\" key=\"GridCell.Tab.0.bottom/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591204682153\" />\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.center\" timestamp=\"1591639441250\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.center/0.0.1366.728@0.0.1366.728\" timestamp=\"1591639441250\" />\r\n    <state width=\"1850\" height=\"249\" key=\"GridCell.Tab.0.center/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591204682152\" />\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.left\" timestamp=\"1591639441250\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.left/0.0.1366.728@0.0.1366.728\" timestamp=\"1591639441250\" />\r\n    <state width=\"1850\" height=\"249\" key=\"GridCell.Tab.0.left/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591204682150\" />\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.right\" timestamp=\"1591639441250\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state width=\"1045\" height=\"178\" key=\"GridCell.Tab.0.right/0.0.1366.728@0.0.1366.728\" timestamp=\"1591639441250\" />\r\n    <state width=\"1850\" height=\"249\" key=\"GridCell.Tab.0.right/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591204682153\" />\r\n    <state x=\"102\" y=\"0\" key=\"SettingsEditor\" timestamp=\"1591367847136\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"102\" y=\"0\" key=\"SettingsEditor/0.0.1366.728@0.0.1366.728\" timestamp=\"1591367847136\" />\r\n    <state x=\"355\" y=\"163\" width=\"1200\" height=\"776\" key=\"Vcs.Push.Dialog.v2\" timestamp=\"1591204860140\">\r\n      <screen x=\"0\" y=\"24\" width=\"1920\" height=\"1056\" />\r\n    </state>\r\n    <state x=\"355\" y=\"163\" width=\"1200\" height=\"776\" key=\"Vcs.Push.Dialog.v2/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591204860140\" />\r\n    <state x=\"479\" y=\"184\" width=\"407\" height=\"355\" key=\"com.intellij.database.psi.DbRenamePsiElementProcessor.DbRenameDialog\" timestamp=\"1591565419040\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"479\" y=\"184\" width=\"407\" height=\"355\" key=\"com.intellij.database.psi.DbRenamePsiElementProcessor.DbRenameDialog/0.0.1366.728@0.0.1366.728\" timestamp=\"1591565419040\" />\r\n    <state x=\"526\" y=\"137\" width=\"492\" height=\"454\" key=\"com.intellij.database.view.ui.AbstractDbRefactoringDialog\" timestamp=\"1591636430280\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"526\" y=\"137\" width=\"492\" height=\"454\" key=\"com.intellij.database.view.ui.AbstractDbRefactoringDialog/0.0.1366.728@0.0.1366.728\" timestamp=\"1591636430280\" />\r\n    <state x=\"154\" y=\"56\" key=\"com.intellij.javaee.MapExternalResourceDialog\" timestamp=\"1591357306031\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"154\" y=\"56\" key=\"com.intellij.javaee.MapExternalResourceDialog/0.0.1366.728@0.0.1366.728\" timestamp=\"1591357306031\" />\r\n    <state x=\"642\" y=\"437\" key=\"com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2\" timestamp=\"1591204699193\">\r\n      <screen x=\"0\" y=\"24\" width=\"1920\" height=\"1056\" />\r\n    </state>\r\n    <state x=\"642\" y=\"437\" key=\"com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591204699193\" />\r\n    <state x=\"339\" y=\"162\" key=\"run.anything.popup\" timestamp=\"1591626692668\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"339\" y=\"162\" key=\"run.anything.popup/0.0.1366.728@0.0.1366.728\" timestamp=\"1591626692668\" />\r\n    <state x=\"322\" y=\"-1\" width=\"718\" height=\"1014\" key=\"search.everywhere.popup\" timestamp=\"1591638160856\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"322\" y=\"-1\" width=\"718\" height=\"1014\" key=\"search.everywhere.popup/0.0.1366.728@0.0.1366.728\" timestamp=\"1591638160856\" />\r\n    <state x=\"453\" y=\"22\" width=\"1009\" height=\"1470\" key=\"search.everywhere.popup/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591199989533\" />\r\n    <state x=\"497\" y=\"72\" width=\"915\" height=\"958\" key=\"spring file set editor\" timestamp=\"1591200122448\">\r\n      <screen x=\"0\" y=\"24\" width=\"1920\" height=\"1056\" />\r\n    </state>\r\n    <state x=\"497\" y=\"72\" width=\"915\" height=\"958\" key=\"spring file set editor/0.24.1920.1056@0.24.1920.1056\" timestamp=\"1591200122448\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ .idea/workspace.xml	(date 1591647163704)
@@ -19,22 +19,15 @@
     <select />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="d9a13fc2-04a4-451f-879e-e26bd08d69ca" name="Default Changelist" comment="work-in-progress&#10;Exam კლასი და მუშა ფაილის ატვირთვის სერვლეტი">
-      <change afterPath="$PROJECT_DIR$/.idea/dataSources.xml" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/.idea/sqldialects.xml" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/files/exam24/exam_materials/CV.docx" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/main/java/ge/exen/Init/InitializeDB.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/main/java/ge/exen/Model/ExamFactory.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/main/java/ge/exen/Model/FileWorker.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamDao.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamMaterialDao.java" afterDir="false" />
+    <list default="true" id="d9a13fc2-04a4-451f-879e-e26bd08d69ca" name="Default Changelist" comment="added Message DAO classes, introduced packages: models, tests, DAO&#10;&#10;AbstractSQLDAO needs fixing">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/DataBase.sql" beforeDir="false" afterPath="$PROJECT_DIR$/DataBase.sql" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/pom.xml" beforeDir="false" afterPath="$PROJECT_DIR$/pom.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/Objects/Exam.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ge/exen/Objects/Exam.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/ge/exen/Init/InitializeDB.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/ge/exen/Model/ExamFactory.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ge/exen/Models/ExamFactory.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/ge/exen/Model/FileWorker.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ge/exen/Models/FileWorker.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/ge/exen/Objects/Exam.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ge/exen/Models/Exam.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamDao.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamDao.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamMaterialDao.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ge/exen/dao/ExamMaterialDao.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/ge/exen/newExam.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ge/exen/newExam.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/dispatcher-servlet.xml" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/WEB-INF/dispatcher-servlet.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/newExam.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/WEB-INF/views/newExam.jsp" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -57,7 +50,7 @@
     </option>
     <option name="RECENT_BRANCH_BY_REPOSITORY">
       <map>
-        <entry key="$PROJECT_DIR$" value="master" />
+        <entry key="$PROJECT_DIR$" value="khokho_dao" />
       </map>
     </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
@@ -87,6 +80,7 @@
   </component>
   <component name="RecentsManager">
     <key name="MoveClassesOrPackagesDialog.RECENTS_KEY">
+      <recent name="ge.exen.Models" />
       <recent name="ge.exen" />
       <recent name="ge" />
     </key>
@@ -212,14 +206,18 @@
       <screen x="0" y="0" width="1366" height="728" />
     </state>
     <state x="488" y="65" key="#com.intellij.ide.util.MemberChooser/0.0.1366.728@0.0.1366.728" timestamp="1591637463557" />
+    <state x="392" y="145" key="#com.intellij.ide.util.PackageChooserDialog" timestamp="1591646846531">
+      <screen x="0" y="0" width="1366" height="728" />
+    </state>
+    <state x="392" y="145" key="#com.intellij.ide.util.PackageChooserDialog/0.0.1366.728@0.0.1366.728" timestamp="1591646846531" />
     <state x="416" y="53" key="#com.intellij.ide.util.frameworkSupport.AddFrameworkSupportDialog" timestamp="1591367793544">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
     <state x="416" y="53" key="#com.intellij.ide.util.frameworkSupport.AddFrameworkSupportDialog/0.0.1366.728@0.0.1366.728" timestamp="1591367793544" />
-    <state x="445" y="260" width="668" height="317" key="#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes" timestamp="1591430742990">
+    <state x="445" y="260" width="433" height="217" key="#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes" timestamp="1591646850977">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state x="445" y="260" key="#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes/0.0.1366.728@0.0.1366.728" timestamp="1591430742990" />
+    <state x="445" y="260" width="433" height="217" key="#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes/0.0.1366.728@0.0.1366.728" timestamp="1591646850977" />
     <state x="626" y="401" width="668" height="317" key="#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.classes/0.24.1920.1056@0.24.1920.1056" timestamp="1591200646856" />
     <state x="504" y="224" width="407" height="191" key="#com.intellij.refactoring.move.moveClassesOrPackages.MoveClassesOrPackagesDialog.packages" timestamp="1591626364082">
       <screen x="0" y="0" width="1366" height="728" />
@@ -238,25 +236,25 @@
       <screen x="0" y="0" width="1366" height="728" />
     </state>
     <state x="463" y="119" key="FileChooserDialogImpl/0.0.1366.728@0.0.1366.728" timestamp="1591535815310" />
-    <state width="1045" height="178" key="GridCell.Tab.0.bottom" timestamp="1591639441250">
+    <state width="1044" height="178" key="GridCell.Tab.0.bottom" timestamp="1591646500769">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state width="1045" height="178" key="GridCell.Tab.0.bottom/0.0.1366.728@0.0.1366.728" timestamp="1591639441250" />
+    <state width="1044" height="178" key="GridCell.Tab.0.bottom/0.0.1366.728@0.0.1366.728" timestamp="1591646500769" />
     <state width="1850" height="249" key="GridCell.Tab.0.bottom/0.24.1920.1056@0.24.1920.1056" timestamp="1591204682153" />
-    <state width="1045" height="178" key="GridCell.Tab.0.center" timestamp="1591639441250">
+    <state width="1044" height="178" key="GridCell.Tab.0.center" timestamp="1591646500769">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state width="1045" height="178" key="GridCell.Tab.0.center/0.0.1366.728@0.0.1366.728" timestamp="1591639441250" />
+    <state width="1044" height="178" key="GridCell.Tab.0.center/0.0.1366.728@0.0.1366.728" timestamp="1591646500769" />
     <state width="1850" height="249" key="GridCell.Tab.0.center/0.24.1920.1056@0.24.1920.1056" timestamp="1591204682152" />
-    <state width="1045" height="178" key="GridCell.Tab.0.left" timestamp="1591639441250">
+    <state width="1044" height="178" key="GridCell.Tab.0.left" timestamp="1591646500769">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state width="1045" height="178" key="GridCell.Tab.0.left/0.0.1366.728@0.0.1366.728" timestamp="1591639441250" />
+    <state width="1044" height="178" key="GridCell.Tab.0.left/0.0.1366.728@0.0.1366.728" timestamp="1591646500769" />
     <state width="1850" height="249" key="GridCell.Tab.0.left/0.24.1920.1056@0.24.1920.1056" timestamp="1591204682150" />
-    <state width="1045" height="178" key="GridCell.Tab.0.right" timestamp="1591639441250">
+    <state width="1044" height="178" key="GridCell.Tab.0.right" timestamp="1591646500769">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state width="1045" height="178" key="GridCell.Tab.0.right/0.0.1366.728@0.0.1366.728" timestamp="1591639441250" />
+    <state width="1044" height="178" key="GridCell.Tab.0.right/0.0.1366.728@0.0.1366.728" timestamp="1591646500769" />
     <state width="1850" height="249" key="GridCell.Tab.0.right/0.24.1920.1056@0.24.1920.1056" timestamp="1591204682153" />
     <state x="102" y="0" key="SettingsEditor" timestamp="1591367847136">
       <screen x="0" y="0" width="1366" height="728" />
Index: src/main/java/ge/exen/dao/ExamDao.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ge.exen.dao;\r\n\r\nimport ge.exen.Objects.Exam;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.*;\r\n\r\n@Component(\"exdao\")\r\npublic class ExamDao {\r\n    @Autowired\r\n    private DataSource db;\r\n\r\n    public static final int ERROR = -1;\r\n\r\n\r\n    public long create(Exam ex) {\r\n\r\n        try {\r\n\r\n            String query = \"INSERT INTO exam (start_time, duration, var_num, exam_subj) VALUES ('\" +\r\n                    ex.getStartDate() + \"', \" + ex.getDurationInMinutes() + \", \" +\r\n                    ex.getVariants() + \", '\" + ex.getFullName() + \"')\";\r\n\r\n\r\n            Connection conn = db.getConnection();\r\n            PreparedStatement insertStatement =\r\n                    conn.prepareStatement(query, Statement.RETURN_GENERATED_KEYS);\r\n\r\n            insertStatement.executeUpdate();\r\n            ResultSet ans = insertStatement.getGeneratedKeys();\r\n            if (ans.next()) {\r\n                return ans.getLong(1);\r\n            } else return ERROR;\r\n\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n            return ERROR;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ge/exen/dao/ExamDao.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/java/ge/exen/DAO/ExamDao.java	(date 1591647117774)
@@ -1,6 +1,6 @@
-package ge.exen.dao;
+package ge.exen.DAO;
 
-import ge.exen.Objects.Exam;
+import ge.exen.Models.Exam;
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Component;
 
Index: src/main/java/ge/exen/Model/ExamFactory.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ge.exen.Model;\r\n\r\nimport ge.exen.Objects.Exam;\r\nimport ge.exen.dao.ExamDao;\r\nimport ge.exen.dao.ExamMaterialDao;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n\r\nimport java.sql.SQLException;\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class ExamFactory {\r\n\r\n    @Autowired\r\n    ExamDao exdao;\r\n    @Autowired\r\n    ExamMaterialDao materials;\r\n    public static final int STATUS_ERR = -1;\r\n    public static final int STATUS_DB_ERR = -2;\r\n    public static final int STATUS_FILE_DB_ERR = -3;\r\n\r\n\r\n    /**\r\n     * Processes given data and calls DAO to add exam data to DB.\r\n     *\r\n     * @return newly created positive object ID or negative error code.\r\n     */\r\n    public long process(String name, String startDate, String durHours, String durMinutes, String variants, List<MultipartFile> files) {\r\n        startDate = startDate.replace('T', ' ');\r\n        System.out.println(startDate);\r\n\r\n        Integer durationInMinutes = Integer.parseInt(durMinutes) + 60 * Integer.parseInt(durHours);\r\n        Integer variantCount = Integer.parseInt(variants);\r\n\r\n\r\n        Exam newex = new Exam(name, startDate, durationInMinutes, variantCount, null);\r\n        newex.setID(exdao.create(newex));\r\n        long newID = newex.getID();\r\n        if (newID < 0) return STATUS_DB_ERR;\r\n\r\n        newex.setStatementLinks(FileWorker.storeFiles(files, \"./files/exam\" + newID + \"/exam_materials\"));\r\n\r\n        try {\r\n            materials.create(newex);\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n            return STATUS_FILE_DB_ERR;\r\n        }\r\n\r\n\r\n        return newID;\r\n    }\r\n}\r\n
===================================================================
--- src/main/java/ge/exen/Model/ExamFactory.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/java/ge/exen/Models/ExamFactory.java	(date 1591647117761)
@@ -1,8 +1,7 @@
-package ge.exen.Model;
+package ge.exen.Models;
 
-import ge.exen.Objects.Exam;
-import ge.exen.dao.ExamDao;
-import ge.exen.dao.ExamMaterialDao;
+import ge.exen.DAO.ExamDao;
+import ge.exen.DAO.ExamMaterialDao;
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Component;
 
Index: src/main/java/ge/exen/Model/FileWorker.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ge.exen.Model;\r\n\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.io.*;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\npublic class FileWorker {\r\n    /**\r\n     * Stores singular MultiPartFile in given directory.\r\n     *\r\n     * @param file\r\n     * @param directory\r\n     * @return path of stored file\r\n     */\r\n\r\n    public static String storeMultiPartFile(String directory, MultipartFile file) {\r\n        Path dir = Paths.get(directory);\r\n        if (!Files.exists(dir)) {\r\n            try {\r\n                Files.createDirectories(dir);\r\n            } catch (IOException e) {\r\n                return null;\r\n            }\r\n        }\r\n        String ret = directory + \"/\" + file.getOriginalFilename();\r\n        File material = new File(ret);\r\n\r\n        try {\r\n            OutputStream os = new FileOutputStream(material);\r\n            os.write(file.getBytes());\r\n        } catch (FileNotFoundException e) {\r\n            return null;\r\n        } catch (IOException e) {\r\n            return null;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * Stores given list of MultiPartFiles in given directory.\r\n     *\r\n     * @param files\r\n     * @param dir\r\n     * @return list of paths of stored files.\r\n     */\r\n    static List<String> storeFiles(List<MultipartFile> files, String dir) {\r\n        List<String> ret = new ArrayList<>();\r\n        Iterator<MultipartFile> it = files.iterator();\r\n\r\n        while (it.hasNext()) {\r\n            MultipartFile file = it.next();\r\n            if (file == null) {\r\n                ret.add(null);\r\n                continue;\r\n            } else {\r\n                String path = storeMultiPartFile(dir, file);\r\n                if (path == null) return null;\r\n                ret.add(path);\r\n            }\r\n\r\n\r\n        }\r\n        return ret;\r\n    }\r\n\r\n}\r\n
===================================================================
--- src/main/java/ge/exen/Model/FileWorker.java	(revision a859588df62998cdc71b666815bd459d35687ec5)
+++ src/main/java/ge/exen/Models/FileWorker.java	(date 1591646500712)
@@ -1,4 +1,4 @@
-package ge.exen.Model;
+package ge.exen.Models;
 
 import org.springframework.web.multipart.MultipartFile;
 
